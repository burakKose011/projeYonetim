<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Proje Yönetim Sistemi - Panel</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
      <link rel="stylesheet" href="../../assets/css/style.css">
</head>
<body>
  <div class="header">
    <div class="header-content">
      <div class="logo-container">
                    <img src="../../assets/images/uniLogo.png" alt="Bilimin Işığında, Geleceğe Yolculuk" class="logo">
        <div class="logo-glow"></div>
      </div>
      <div class="header-text">
        <h1 class="main-title">Proje Yönetim Sistemi</h1>
        <div class="university-info">
          <span class="university-name">Bilimin Işığında, Geleceğe Yolculuk</span>
          <span class="faculty-name">Mühendislik ve Doğa Bilimleri Fakültesi</span>
          <span class="department-name">Bilgisayar Mühendisliği Bölümü</span>
        </div>
      </div>
    </div>
    <div class="header-decoration"></div>
  </div>
  <div class="container">
    <nav class="sidebar">
      <div class="sidebar-header">
        <h3 class="sidebar-title">
          <i class="fas fa-rocket"></i>
          Proje Yönetimi
        </h3>
        <p class="sidebar-subtitle">Projelerinizi yönetin ve takip edin</p>
      </div>
      
      <div class="sidebar-section">
        <h4 class="sidebar-section-title">Ana Menü</h4>
        <div class="sidebar-nav">
          <a href="dashboard.html" class="active">
            <i class="fas fa-tachometer-alt"></i>
            Panel
          </a>
        </div>
      </div>
      
      <div class="sidebar-section">
        <h4 class="sidebar-section-title">Proje İşlemleri</h4>
        <div class="sidebar-nav">
          <a href="../projects/add_project.html">
            <i class="fas fa-plus-circle"></i>
            Yeni Proje Ekle
          </a>
          <a href="../projects/project_list.html">
            <i class="fas fa-list-alt"></i>
            Proje Listesi
          </a>
        </div>
      </div>
      
      <div class="sidebar-section">
        <h4 class="sidebar-section-title">Hesap</h4>
        <div class="sidebar-nav">
          <a href="profile.html">
            <i class="fas fa-user-circle"></i>
            Bilgilerim
          </a>
          <a href="../auth/login.html">
            <i class="fas fa-sign-out-alt"></i>
            Çıkış
          </a>
        </div>
      </div>
      
      <div class="sidebar-footer">
        <p class="sidebar-version">v2.0.1 - 2025</p>
      </div>
    </nav>
    <main class="main-content" id="main-content">
      <h2>
        <i class="fas fa-home" style="margin-right: 12px; color: var(--primary-color);"></i>
        Hoşgeldiniz!
      </h2>
      <div style="display: grid; gap: 24px; margin-top: 32px;">
        <div style="background: linear-gradient(135deg, var(--primary-color), var(--primary-dark)); color: white; padding: 32px; border-radius: var(--border-radius); box-shadow: var(--shadow-lg);">
          <h3 style="margin: 0 0 16px 0; font-size: 1.5rem; display: flex; align-items: center;">
            <i class="fas fa-rocket" style="margin-right: 12px;"></i>
            Proje Yönetim Sistemine Hoşgeldiniz
          </h3>
          <p style="margin: 0; font-size: 1.1rem; opacity: 0.9; line-height: 1.6;">
            Bu sistem ile projelerinizi kolayca yönetebilir, takip edebilir ve raporlayabilirsiniz. 
            Sol menüden istediğiniz işlemi seçebilirsiniz.
          </p>
        </div>
        
        <div class="dashboard-cards" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 24px;">
          <div style="background: rgba(72, 187, 120, 0.1); border: 1px solid rgba(72, 187, 120, 0.2); padding: 18px; border-radius: var(--border-radius); text-align: center; min-width: 0; min-height: 120px;">
            <i class="fas fa-project-diagram" style="font-size: 1.7rem; color: var(--success-color); margin-bottom: 8px;"></i>
            <h4 style="margin: 0 0 4px 0; color: var(--gray-800); font-size: 1rem;">Toplam Projeler</h4>
            <p style="margin: 0; font-size: 1.3rem; font-weight: 700; color: var(--success-color);" id="totalProjects">0</p>
          </div>
          <div style="background: rgba(102, 126, 234, 0.1); border: 1px solid rgba(102, 126, 234, 0.2); padding: 18px; border-radius: var(--border-radius); text-align: center; min-width: 0; min-height: 120px;">
            <i class="fas fa-clock" style="font-size: 1.7rem; color: var(--primary-color); margin-bottom: 8px;"></i>
            <h4 style="margin: 0 0 4px 0; color: var(--gray-800); font-size: 1rem;">Bekleyen Projeler</h4>
            <p style="margin: 0; font-size: 1.3rem; font-weight: 700; color: var(--primary-color);" id="pendingProjects">0</p>
          </div>
          <div style="background: rgba(237, 137, 54, 0.1); border: 1px solid rgba(237, 137, 54, 0.2); padding: 18px; border-radius: var(--border-radius); text-align: center; min-width: 0; min-height: 120px;">
            <i class="fas fa-check-circle" style="font-size: 1.7rem; color: var(--warning-color); margin-bottom: 8px;"></i>
            <h4 style="margin: 0 0 4px 0; color: var(--gray-800); font-size: 1rem;">Onaylanan Projeler</h4>
            <p style="margin: 0; font-size: 1.3rem; font-weight: 700; color: var(--warning-color);" id="approvedProjects">0</p>
          </div>
          <div style="background: rgba(239, 68, 68, 0.1); border: 1px solid rgba(239, 68, 68, 0.2); padding: 18px; border-radius: var(--border-radius); text-align: center; min-width: 0; min-height: 120px;">
            <i class="fas fa-times-circle" style="font-size: 1.7rem; color: var(--danger-color); margin-bottom: 8px;"></i>
            <h4 style="margin: 0 0 4px 0; color: var(--gray-800); font-size: 1rem;">Reddedilen Projeler</h4>
            <p style="margin: 0; font-size: 1.3rem; font-weight: 700; color: var(--danger-color);" id="rejectedProjects">0</p>
          </div>
        </div>

        <div style="background: var(--white); border: 1px solid var(--gray-200); padding: 24px; border-radius: var(--border-radius); box-shadow: var(--shadow-sm);">
          <h3 style="margin: 0 0 20px 0; color: var(--gray-800); display: flex; align-items: center;">
            <i class="fas fa-info-circle" style="margin-right: 12px; color: var(--primary-color);"></i>
            Hızlı Erişim
          </h3>
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px;">
            <a href="../projects/add_project.html" style="display: flex; align-items: center; padding: 16px; background: linear-gradient(135deg, rgba(102, 126, 234, 0.05), rgba(240, 147, 251, 0.05)); border-radius: var(--border-radius); text-decoration: none; color: var(--gray-700); transition: var(--transition); border: 1px solid var(--gray-200);">
              <i class="fas fa-plus" style="margin-right: 12px; color: var(--primary-color);"></i>
              <span style="font-weight: 500;">Yeni Proje Ekle</span>
            </a>
            
            <a href="../projects/project_list.html" style="display: flex; align-items: center; padding: 16px; background: linear-gradient(135deg, rgba(72, 187, 120, 0.05), rgba(56, 161, 105, 0.05)); border-radius: var(--border-radius); text-decoration: none; color: var(--gray-700); transition: var(--transition); border: 1px solid var(--gray-200);">
              <i class="fas fa-list" style="margin-right: 12px; color: var(--success-color);"></i>
              <span style="font-weight: 500;">Proje Listesi</span>
            </a>
          </div>
        </div>
      </div>
    </main>
  </div>
  <footer>
    <div>Proje Yönetim Sistemi 2025<br>Proje Yönetim Sistemi - Burak Köse - Bilimin Işığında, Geleceğe Yolculuk</div>
  </footer>
  <script>
    let userProjects = [];

    window.onload = function() {
      document.getElementById('main-content').classList.add('visible');
      loadDashboardStats();
    };

    // Dashboard istatistiklerini yükle
    async function loadDashboardStats() {
      try {
        // Backend'den proje listesini al
                    const response = await fetch('../../api/projects.php?action=list');
        const result = await response.json();
        
        if (result.success) {
          // Proje verilerini formatla
          userProjects = result.projects.map(project => ({
            id: project.id,
            status: project.status
          }));
        } else {
          console.error('Proje listesi alınamadı:', result.message);
          userProjects = [];
        }
        
        updateDashboardStats();
      } catch (error) {
        console.error('Dashboard istatistikleri yüklenirken hata:', error);
        userProjects = [];
        updateDashboardStats();
      }
    }

    // Dashboard istatistiklerini güncelle
    function updateDashboardStats() {
      // Toplam proje sayısı
      const totalProjectsElement = document.getElementById('totalProjects');
      if (totalProjectsElement) {
        totalProjectsElement.textContent = userProjects.length;
      }
      
      // Bekleyen projeler
      const pendingProjectsElement = document.getElementById('pendingProjects');
      if (pendingProjectsElement) {
        const pendingCount = userProjects.filter(p => p.status === 'pending').length;
        pendingProjectsElement.textContent = pendingCount;
      }
      
      // Onaylanan projeler
      const approvedProjectsElement = document.getElementById('approvedProjects');
      if (approvedProjectsElement) {
        const approvedCount = userProjects.filter(p => p.status === 'approved').length;
        approvedProjectsElement.textContent = approvedCount;
      }
      // Reddedilen projeler
      const rejectedProjectsElement = document.getElementById('rejectedProjects');
      if (rejectedProjectsElement) {
        const rejectedCount = userProjects.filter(p => p.status === 'rejected').length;
        rejectedProjectsElement.textContent = rejectedCount;
      }
    }
  </script>
<style>
@media (max-width: 900px) {
  .dashboard-cards {
    grid-template-columns: repeat(2, 1fr) !important;
  }
}
@media (max-width: 600px) {
  .dashboard-cards {
    grid-template-columns: 1fr !important;
  }
}
</style>
</body>
</html> 